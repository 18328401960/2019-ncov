# 武汉肺炎疫情实时动态省市地图

> 武汉加油，众志成城，共抗疫情

在 [丁香园肺炎疫情实时动态](https://3g.dxy.cn/newh5/view/pneumonia?from=timeline) 中提供了疫情地图及实时权威新闻，但其中并没有省市地图。我在每天闭门不出为国家做贡献的同时，对疫情地图做了简单的扩展，旨在帮助大家更加直观了解自己家乡的情况。

## Todo

+ [x] 添加自动部署，每半个小时部署一次
+ [x] 添加省级地图
+ [x] 优化部署策略，避免白屏
+ [x] 添加信息汇总
+ [x] 对首屏地图组件进行按需加载，加速首屏速度
+ [x] 对省级信息生成独立路由，便于分享
+ [x] 修复云南地级市简称与全称对应关系
+ [x] 修复中国各省市地级市简称与全称对应关系
+ [ ] 优化部署策略，对 OSS 上静态资源增量(以前是全量)配置永久缓存，加速部署时间
+ [ ] 对 echarts 各组件进行按需加载
+ [ ] 对 echarts 中省级地图数据进行按需加载
+ [ ] 添加微信分享的 API
+ [ ] 添加各省实时消息汇总

## 截图

<img src="./public/screen.png">

## 快速开始

``` bash
# 获取数据
$ node build-origin.js

$ npm start
```

## 数据来源

数据爬自丁香园，使用脚本 `build-origin.js` 获取数据。数据每半个小时爬取一次，直接注入到前端，因此对丁香园造成的压力很小

## 部署

使用 `github actions` 与 `alioss` 自动部署，使用 `github actions` 的定时任务每半个小时部署一次(为了获取最新数据)。
